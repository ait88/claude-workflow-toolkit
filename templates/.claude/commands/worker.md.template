---
name: worker
description: Unified workflow entry point - status, single cycle, or autonomous loop
version: 2.0.0
---

# /worker

**The unified entry point for all workflow operations.** Shows status, runs single cycles, or autonomous loops.

## Quick Start

```bash
/worker --status    # What needs attention?
/worker --once      # Start or continue one work cycle
/worker             # Continuous autonomous mode
/worker --help      # Show all options
```

## Modes

### Status Mode (Recommended Starting Point)

```bash
/worker --status
```

Shows comprehensive workflow status:
- **Skills:** Up to date or needs sync
- **Reviews:** PRs needing attention
- **Issues:** Available work count
- **Branch:** Current context and suggested next steps

### Single Cycle Mode

```bash
/worker --once
```

Runs exactly one iteration:
1. Checks for pending reviews (blocks if found)
2. Claims next issue OR resumes in-progress work
3. Pauses for implementation
4. Runs quality gates when code is ready
5. Submits PR on success

### Continuous Mode

```bash
/worker
```

Autonomous loop processing up to {{WORKER_MAX_ISSUES}} issues.

## Options

| Option | Description |
|--------|-------------|
| `--status`, `-s` | Show workflow status without action |
| `--once` | Process exactly one issue then exit |
| `--help`, `-h` | Show usage and all options |
| `--max-issues <n>` | Maximum issues to process (default: {{WORKER_MAX_ISSUES}}) |
| `--dry-run` | Preview without making changes |
| `--reset` | Clear worker state (lock, current issue, queue) |
| `--project <path>` | Target project directory |
| `--repo <owner/name>` | Target GitHub repository |

## Typical Workflow

```bash
# 1. Check status
$ /worker --status

========================================
Workflow Status
========================================

Repository: owner/repo
Branch:     main

----------------------------------------
Pre-flight Checks
----------------------------------------

✓ Skills:  Up to date
✓ Reviews: None pending
ℹ Issues:  3 ready for work

----------------------------------------
Next Steps
----------------------------------------

Ready to start work:
  /worker --once       Claim next issue and start
  /claim-issue <n>     Claim specific issue

# 2. Start work cycle
$ /worker --once

Step 3: Finding next issue...
Found: #42 - Add user authentication
Issue #42 claimed. Implement the solution, then run /worker again.

# 3. Implement the feature...

# 4. Continue after implementation
$ /worker --once

Step 5: Running quality gates...
Tests:    PASS
Lint:     PASS
Security: PASS

Step 6: Submitting PR...
Issue #42 completed successfully
```

## Quality Gates

Before submitting, the worker verifies:

| Gate | Command | Behavior |
|------|---------|----------|
| Tests | `{{TEST_COMMAND}}` | Must pass |
| Lint | `{{LINT_COMMAND}}` | Must pass |
| Security | Built-in checks | Warnings logged |

## State Files

Worker state is maintained in `.claude/worker/`:

| File | Purpose |
|------|---------|
| `worker.lock` | Prevents multiple workers |
| `current-issue` | Issue number being worked |
| `history.log` | Completed work log |
| `decision-queue/` | Issues needing human input |

## Examples

```bash
# Check what needs attention
/worker --status

# Start one work cycle
/worker --once

# Preview without changes
/worker --once --dry-run

# Target specific project (from workspace)
/worker --project ~/myproject --status

# Clear stale state
/worker --reset

# Full autonomous mode
/worker --max-issues 5
```

## Related Skills

| Skill | Relationship |
|-------|--------------|
| `/check-reviews` | Detailed review view (worker shows summary) |
| `/claim-issue` | Manual claiming (worker does this automatically) |
| `/submit-pr` | Manual submission (worker does this automatically) |
| `/sync-skills` | Update skills (worker checks staleness) |

## Troubleshooting

### "Another worker is running"

A previous worker may have crashed:
```bash
/worker --reset
```

### Worker pauses for reviews

Address pending reviews first:
```bash
/check-reviews
/address-review <pr-number>
```

### Stuck on closed issue branch

The status mode will suggest next steps:
```bash
/worker --status
# Shows: git checkout main && git pull
```

# Claude & Codex Workflow Skills

Optimized skill commands for Claude Code and Codex agents working on this repository. Skills live in `{{SKILLS_DIR}}` and should be mirrored to `{{CODEX_SKILLS_DIR}}` (symlink recommended) so both agents run the same commands.

## Available Skills

### `/claim-issue <issue-number>`

Atomically claims an issue and creates a feature branch.

**Usage:**
```bash
/claim-issue 35
```

**What it does:**
1. Validates issue exists and is open
2. Updates labels (removes `agent-ready`, adds `in-progress`)
3. Creates branch: `<issue>-<title-slug>`
4. Checks out the branch

---

### `/check-workflow`

Validates current workflow state using a single GraphQL query.

**Usage:**
```bash
/check-workflow
```

**What it does:**
1. Extracts issue number from current branch
2. Fetches issue + PR data in one API call
3. Validates labels match workflow stage
4. Provides fix commands for issues

---

### `/submit-pr [title] [body]`

Creates PR and updates labels atomically.

**Usage:**
```bash
/submit-pr
/submit-pr "Add feature X" "Detailed description here"
```

**What it does:**
1. Pushes current branch
2. Creates PR (auto-fills from commits if no title)
3. Updates labels (removes `in-progress`, adds `needs-review`)

---

## Performance

| Operation | Without Skills | With Skills | Reduction |
|-----------|---------------|-------------|-----------|
| Claim issue | 3-4 API calls | 1 call | 75% |
| Check workflow | 4-5 API calls | 1 call | 80% |
| Submit PR | 2-3 API calls | 1 call | 67% |

**Total: 70-80% fewer GitHub API calls**

---

## Requirements

- GitHub CLI (`gh`) - authenticated
- `jq` - JSON parsing
- `git` - version control

---

## Workflow

```
1. Find issue:     gh issue list --label "agent-ready"
2. Claim issue:    /claim-issue <number>
3. Implement:      Write code, tests, docs
4. Validate:       /check-workflow
5. Submit:         /submit-pr
```

---

## Troubleshooting

### "Permission denied"
```bash
chmod +x {{SKILLS_DIR}}/*
```

### "gh: command not found"
Install GitHub CLI: https://cli.github.com/

### "jq: command not found"
- macOS: `brew install jq`
- Ubuntu: `sudo apt-get install jq`

---

*Generated by [claude-workflow-toolkit](https://github.com/{{REPO_OWNER}}/claude-workflow-toolkit)*
